<%- include("partials/header.ejs") %>
<div class="adminPage">
    <h1>Welcome, <%= username %></h1>
    <form action="/create" method="POST">
         <button class="btn">Create New post</button><br>
         <!-- <button class="btn"> Edit post</button><br>
         <button class="btn">Delete post</button><br> -->
    </form>
      
    <h3>Your Posts</h3>
    <% if (posts.length === 0) { %>
        <p>No posts yet.</p>
    <% } else { %>
        <ol>
            <% posts.forEach(post => { %>
                <li>
                    <a href="/displayPost/<%= post.postId %>"><strong><%= post.title %></strong></a>
                    
                    <form action="/edit/<%= post.postId %>" method="GET" style="display:inline;">
                        <button class="btn">Edit</button>
                    </form>
                    <form action="/delete/<%= post.postId %>" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this post?');">
                        <button class="btn">Delete</button>
                    </form>
                </li>
            <% }); %>
        </ol>
    <% } %>
</div>
</div>
</div>

<%- include("partials/footer.ejs") %>